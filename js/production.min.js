function showInfo(){console.log("show info: "+infoToggle),panelTransition||(panelTransition=!0,infoToggle?($(".info-link").removeAttr("href"),$(".info").animate({top:"102%"},infoRaisingTime,function(){$(".arrow").css("display","block"),setLocationHash(""),infoToggle=!1,panelTransition=!1,$(".info-link").html("info"),$(".arrow").animate({opacity:1},infoRaisingTime,function(){$(".info-link").attr("href","#")})})):($(".info-link").removeAttr("href"),$(".info").animate({top:"0%"},infoRaisingTime,function(){$(".arrow").css("display","none"),$(".info-link").css("display","block"),setLocationHash("info"),infoToggle=!0,panelTransition=!1,$(".info-link").html('<i class="fa fa-times"></i>'),$(".info-link").animate({opacity:1},infoRaisingTime,function(){$(".info-link").attr("href","#")})})))}function goHome(){panelTransition||infoToggle||$(".panel").each(function(a,b){if($(b).attr("class")==currentSection.attr("class")&&a<$(".panel").length-1){panelTransition=!0;var c=$(".panel").eq(0);c.css("visibility","visible"),c.animate({opacity:1},fadeTime),$(b).animate({opacity:0},fadeTime,function(){currentSection.css("visibility","hidden"),currentSection=c,panelTransition=!1,currentSection.hasClass("dark")?($(".info-link").css("color","#fff"),$(".arrow i").css("color","#fff"),$(".arrow").css("color","#fff")):($(".info-link").css("color","#000"),$(".arrow i").css("color","#000"),$(".arrow").css("color","#000"))})}})}function scrollToNext(){panelTransition||(currentSection.hasClass("e3")&&!infoToggle?bReachedLastText?showInfo():$(".e3 .second").animate({opacity:1},fadeTime,function(){bReachedLastText=!0}):infoToggle||$(".panel").each(function(a,b){if($(b).attr("class")==currentSection.attr("class")&&a<$(".panel").length-1){panelTransition=!0;var c=$(".panel").eq(a+1);c.css("visibility","visible"),c.animate({opacity:1},fadeTime),$(b).animate({opacity:0},fadeTime,function(){currentSection.css("visibility","hidden"),currentSection=c,panelTransition=!1,currentSection.hasClass("dark")?($(".info-link").css("color","#fff"),$(".arrow i").css("color","#fff"),$(".arrow").css("color","#fff")):($(".info-link").css("color","#000"),$(".arrow i").css("color","#000"),$(".arrow").css("color","#000"))}),c.hasClass("b1")?(console.log("fade in"),$(".m-b").css("visibility","visible"),$(".m-b").animate({opacity:1},fadeTime)):c.hasClass("e1")?($(".marlene").css("visibility","visible"),$(".marlene").animate({opacity:1},fadeTime)):currentSection.hasClass("b3")?$(".m-b").animate({opacity:0},fadeTime,function(){$(".m-b").css("visibility","hidden")}):currentSection.hasClass("e2")&&$(".marlene").animate({opacity:0},fadeTime,function(){$(".marlene").css("visibility","hidden")})}}))}function scrollToPrevious(){panelTransition||(infoToggle?showInfo():currentSection.hasClass("e3")&&bReachedLastText?$(".e3 .second").animate({opacity:0},fadeTime,function(){bReachedLastText=!1}):$(".panel").each(function(a,b){if($(b).attr("class")==currentSection.attr("class")&&a>0){panelTransition=!0;var c=$(".panel").eq(a-1);c.css("visibility","visible"),c.animate({opacity:1},fadeTime),$(b).animate({opacity:0},fadeTime,function(){currentSection.css("visibility","hidden"),currentSection=c,panelTransition=!1,currentSection.hasClass("dark")?($(".info-link").css("color","#fff"),$(".arrow i").css("color","#fff"),$(".arrow").css("color","#fff")):($(".info-link").css("color","#000"),$(".arrow i").css("color","#000"),$(".arrow").css("color","#000"))}),currentSection.hasClass("b1")?$(".m-b").animate({opacity:0},fadeTime,function(){$(".m-b").css("visibility","hidden")}):currentSection.hasClass("e1")?$(".marlene").animate({opacity:0},fadeTime,function(){$(".marlene").css("visibility","hidden")}):c.hasClass("b3")?($(".m-b").css("visibility","visible"),$(".m-b").animate({opacity:1},fadeTime)):c.hasClass("e2")&&($(".marlene").css("visibility","visible"),$(".marlene").animate({opacity:1},fadeTime))}}))}function MouseWheelHandler(a){a.preventDefault();var a=window.event||a,b=Math.max(-1,Math.min(1,a.wheelDelta||-a.detail));window.clearTimeout(mouseWheelTimeOut),mouseWheelTimeOut=window.setTimeout(resetMouseWheelTransition,20),infoToggle||mouseWheelTransition||(-1==b&&scrollToNext(),1==b&&scrollToPrevious()),mouseWheelTransition=!0}function resetMouseWheelTransition(){mouseWheelTransition=!1}function handleMove(a){if(a.preventDefault(),!infoToggle){var b=a.changedTouches;bTouchScrolling||(bTouchScrolling=!0,scrollingStartY=b[0].pageY)}}function handleEnd(a){var b=a.changedTouches;infoToggle||bTouchScrolling&&(bTouchScrolling=!1,b[0].pageY>scrollingStartY?scrollToPrevious():scrollToNext())}function getLocationHash(){return window.location.hash.substring(1)}function setLocationHash(a){window.location.hash=a}function setCurrentPanelFromHash(){"info"==getLocationHash()?infoToggle||showInfo():infoToggle&&showInfo()}(function(){function a(){}function b(a,b){for(var c=a.length;c--;)if(a[c].listener===b)return c;return-1}function c(a){return function(){return this[a].apply(this,arguments)}}var d=a.prototype,e=this,f=e.EventEmitter;d.getListeners=function(a){var b,c,d=this._getEvents();if("object"==typeof a){b={};for(c in d)d.hasOwnProperty(c)&&a.test(c)&&(b[c]=d[c])}else b=d[a]||(d[a]=[]);return b},d.flattenListeners=function(a){var b,c=[];for(b=0;a.length>b;b+=1)c.push(a[b].listener);return c},d.getListenersAsObject=function(a){var b,c=this.getListeners(a);return c instanceof Array&&(b={},b[a]=c),b||c},d.addListener=function(a,c){var d,e=this.getListenersAsObject(a),f="object"==typeof c;for(d in e)e.hasOwnProperty(d)&&-1===b(e[d],c)&&e[d].push(f?c:{listener:c,once:!1});return this},d.on=c("addListener"),d.addOnceListener=function(a,b){return this.addListener(a,{listener:b,once:!0})},d.once=c("addOnceListener"),d.defineEvent=function(a){return this.getListeners(a),this},d.defineEvents=function(a){for(var b=0;a.length>b;b+=1)this.defineEvent(a[b]);return this},d.removeListener=function(a,c){var d,e,f=this.getListenersAsObject(a);for(e in f)f.hasOwnProperty(e)&&(d=b(f[e],c),-1!==d&&f[e].splice(d,1));return this},d.off=c("removeListener"),d.addListeners=function(a,b){return this.manipulateListeners(!1,a,b)},d.removeListeners=function(a,b){return this.manipulateListeners(!0,a,b)},d.manipulateListeners=function(a,b,c){var d,e,f=a?this.removeListener:this.addListener,g=a?this.removeListeners:this.addListeners;if("object"!=typeof b||b instanceof RegExp)for(d=c.length;d--;)f.call(this,b,c[d]);else for(d in b)b.hasOwnProperty(d)&&(e=b[d])&&("function"==typeof e?f.call(this,d,e):g.call(this,d,e));return this},d.removeEvent=function(a){var b,c=typeof a,d=this._getEvents();if("string"===c)delete d[a];else if("object"===c)for(b in d)d.hasOwnProperty(b)&&a.test(b)&&delete d[b];else delete this._events;return this},d.removeAllListeners=c("removeEvent"),d.emitEvent=function(a,b){var c,d,e,f,g=this.getListenersAsObject(a);for(e in g)if(g.hasOwnProperty(e))for(d=g[e].length;d--;)c=g[e][d],c.once===!0&&this.removeListener(a,c.listener),f=c.listener.apply(this,b||[]),f===this._getOnceReturnValue()&&this.removeListener(a,c.listener);return this},d.trigger=c("emitEvent"),d.emit=function(a){var b=Array.prototype.slice.call(arguments,1);return this.emitEvent(a,b)},d.setOnceReturnValue=function(a){return this._onceReturnValue=a,this},d._getOnceReturnValue=function(){return this.hasOwnProperty("_onceReturnValue")?this._onceReturnValue:!0},d._getEvents=function(){return this._events||(this._events={})},a.noConflict=function(){return e.EventEmitter=f,a},"function"==typeof define&&define.amd?define("eventEmitter/EventEmitter",[],function(){return a}):"object"==typeof module&&module.exports?module.exports=a:this.EventEmitter=a}).call(this),function(a){function b(b){var c=a.event;return c.target=c.target||c.srcElement||b,c}var c=document.documentElement,d=function(){};c.addEventListener?d=function(a,b,c){a.addEventListener(b,c,!1)}:c.attachEvent&&(d=function(a,c,d){a[c+d]=d.handleEvent?function(){var c=b(a);d.handleEvent.call(d,c)}:function(){var c=b(a);d.call(a,c)},a.attachEvent("on"+c,a[c+d])});var e=function(){};c.removeEventListener?e=function(a,b,c){a.removeEventListener(b,c,!1)}:c.detachEvent&&(e=function(a,b,c){a.detachEvent("on"+b,a[b+c]);try{delete a[b+c]}catch(d){a[b+c]=void 0}});var f={bind:d,unbind:e};"function"==typeof define&&define.amd?define("eventie/eventie",f):a.eventie=f}(this),function(a,b){"function"==typeof define&&define.amd?define(["eventEmitter/EventEmitter","eventie/eventie"],function(c,d){return b(a,c,d)}):"object"==typeof exports?module.exports=b(a,require("wolfy87-eventemitter"),require("eventie")):a.imagesLoaded=b(a,a.EventEmitter,a.eventie)}(window,function(a,b,c){function d(a,b){for(var c in b)a[c]=b[c];return a}function e(a){return"[object Array]"===m.call(a)}function f(a){var b=[];if(e(a))b=a;else if("number"==typeof a.length)for(var c=0,d=a.length;d>c;c++)b.push(a[c]);else b.push(a);return b}function g(a,b,c){if(!(this instanceof g))return new g(a,b);"string"==typeof a&&(a=document.querySelectorAll(a)),this.elements=f(a),this.options=d({},this.options),"function"==typeof b?c=b:d(this.options,b),c&&this.on("always",c),this.getImages(),j&&(this.jqDeferred=new j.Deferred);var e=this;setTimeout(function(){e.check()})}function h(a){this.img=a}function i(a){this.src=a,n[a]=this}var j=a.jQuery,k=a.console,l=void 0!==k,m=Object.prototype.toString;g.prototype=new b,g.prototype.options={},g.prototype.getImages=function(){this.images=[];for(var a=0,b=this.elements.length;b>a;a++){var c=this.elements[a];"IMG"===c.nodeName&&this.addImage(c);var d=c.nodeType;if(d&&(1===d||9===d||11===d))for(var e=c.querySelectorAll("img"),f=0,g=e.length;g>f;f++){var h=e[f];this.addImage(h)}}},g.prototype.addImage=function(a){var b=new h(a);this.images.push(b)},g.prototype.check=function(){function a(a,e){return b.options.debug&&l&&k.log("confirm",a,e),b.progress(a),c++,c===d&&b.complete(),!0}var b=this,c=0,d=this.images.length;if(this.hasAnyBroken=!1,!d)return void this.complete();for(var e=0;d>e;e++){var f=this.images[e];f.on("confirm",a),f.check()}},g.prototype.progress=function(a){this.hasAnyBroken=this.hasAnyBroken||!a.isLoaded;var b=this;setTimeout(function(){b.emit("progress",b,a),b.jqDeferred&&b.jqDeferred.notify&&b.jqDeferred.notify(b,a)})},g.prototype.complete=function(){var a=this.hasAnyBroken?"fail":"done";this.isComplete=!0;var b=this;setTimeout(function(){if(b.emit(a,b),b.emit("always",b),b.jqDeferred){var c=b.hasAnyBroken?"reject":"resolve";b.jqDeferred[c](b)}})},j&&(j.fn.imagesLoaded=function(a,b){var c=new g(this,a,b);return c.jqDeferred.promise(j(this))}),h.prototype=new b,h.prototype.check=function(){var a=n[this.img.src]||new i(this.img.src);if(a.isConfirmed)return void this.confirm(a.isLoaded,"cached was confirmed");if(this.img.complete&&void 0!==this.img.naturalWidth)return void this.confirm(0!==this.img.naturalWidth,"naturalWidth");var b=this;a.on("confirm",function(a,c){return b.confirm(a.isLoaded,c),!0}),a.check()},h.prototype.confirm=function(a,b){this.isLoaded=a,this.emit("confirm",this,b)};var n={};return i.prototype=new b,i.prototype.check=function(){if(!this.isChecked){var a=new Image;c.bind(a,"load",this),c.bind(a,"error",this),a.src=this.src,this.isChecked=!0}},i.prototype.handleEvent=function(a){var b="on"+a.type;this[b]&&this[b](a)},i.prototype.onload=function(a){this.confirm(!0,"onload"),this.unbindProxyEvents(a)},i.prototype.onerror=function(a){this.confirm(!1,"onerror"),this.unbindProxyEvents(a)},i.prototype.confirm=function(a,b){this.isConfirmed=!0,this.isLoaded=a,this.emit("confirm",this,b)},i.prototype.unbindProxyEvents=function(a){c.unbind(a.target,"load",this),c.unbind(a.target,"error",this)},g});var currentSection,homeSection,mouseWheelTransition=!1,panelTransition=!1,reachedTopOfInfo=!0;bReachedLastText=!1;var fadeTime=1e3,infoToggle=!1,infoRaisingTime=1e3;$(function(){"info"==getLocationHash()&&showInfo(),homeSection=$(".panel").eq(0),currentSection=homeSection;var a=document.getElementsByTagName("a");for(i=0;i<a.length;i++)a[i].addEventListener("click",function(a){this.href===window.location.href&&a.preventDefault()})}),jQuery(function(){$(document).keydown(function(a){(40==a.keyCode||34==a.keyCode||39==a.keyCode)&&(a.preventDefault(),scrollToNext()),(38==a.keyCode||33==a.keyCode||37==a.keyCode)&&(a.preventDefault(),reachedTopOfInfo&&scrollToPrevious())})}),document.addEventListener?(document.addEventListener("mousewheel",MouseWheelHandler,!1),document.addEventListener("DOMMouseScroll",MouseWheelHandler,!1)):document.attachEvent("onmousewheel",MouseWheelHandler);var mouseWheelTimeOut;document.addEventListener("touchmove",handleMove,!1),document.addEventListener("touchend",handleEnd,!1);var bTouchScrolling=!1,scrollingStartY;window.onhashchange=function(){panelTransition?panelTransition=!1:setCurrentPanelFromHash()},window.onresize=function(){$(".scroll-container").perfectScrollbar("update")},$(".scroll-container").scroll(function(){reachedTopOfInfo=0==$(".scroll-container").scrollTop()?!0:!1});var imgLoad=imagesLoaded($(document),function(){$(".scroll-container").perfectScrollbar()});